<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Prizes - Yeshivat Torat Yosef Raffle</title>
    <style>
        :root {
            --primary-bg: #ffffff;
            --primary-text: rgb(0, 33, 65);
            --secondary-bg: rgb(0, 33, 65);
            --accent: #7F0031;
            --hover: #590023;
        }
        * { box-sizing: border-box; }
        html, body {
            margin: 0; padding: 0; height: 100%;
            background-color: var(--primary-bg);
            color: var(--primary-text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body { display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .logo-container { text-align: center; padding: 1rem 0 0.5rem; flex-shrink: 0; }
        .logo {
            max-width: 250px; width: 80vw; height: auto; max-height: 100px;
            border: 1px solid rgba(0, 0, 0, 0.1); border-radius: 8px;
        }
        nav {
            background-color: var(--secondary-bg);
            display: flex; justify-content: center; gap: 1.5rem; padding: 1rem 0;
            flex-shrink: 0; flex-wrap: wrap; width: 100%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        nav a {
            color: white; text-decoration: none; padding: 0.5rem 1rem;
            font-weight: bold; font-size: 1.1rem; white-space: nowrap; user-select: none;
        }
        nav a.active { border-bottom: 3px solid var(--accent); color: var(--accent); }
        nav a:hover { color: var(--accent); }
        .container {
            flex-grow: 1; display: flex; flex-direction: column; align-items: center;
            justify-content: center; padding: 1rem; text-align: center; width: 100%;
            box-sizing: border-box; max-width: 1200px;
        }
        h1 { font-size: 1.75rem; margin: 0 0 0.5rem 0; }
        .intro {
            font-size: 1rem; margin-bottom: 1rem; max-width: 90%; margin-left: auto; margin-right: auto;
        }
        .prize-row {
            display: flex; flex-direction: column; gap: 1rem; width: 100%;
        }
        .prize {
            background: #f8f8f8; padding: 1rem; border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1); text-align: center; width: 100%;
        }
        .prize img {
            width: 100%; max-height: 100px; object-fit: contain;
            margin-bottom: 1rem; border-radius: 6px;
        }
        .prize h2 { color: var(--accent); margin: 0 0 0.5rem 0; font-size: 1.3rem; }
        .prize p { font-size: 1rem; color: rgb(40,40,40); margin: 0 0 1rem 0; }
        .view-button {
            background-color: var(--accent); color: white; padding: 0.5rem 1rem;
            border: none; border-radius: 5px; font-weight: 600;
            cursor: pointer; margin-top: 0.5rem;
        }
        /* Popup and Slideshow Styles */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 1.5rem; /* Increased padding */
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0,0,0,0.4); /* Stronger shadow */
            max-width: 90%;
            max-height: 90%; /* Allow more height for content */
            overflow-y: auto;
            z-index: 1000;
            width: 500px; /* Set a default width for the popup */
            display: flex; /* Use flexbox for internal layout */
            flex-direction: column;
            align-items: center;
        }
        .popup .close {
            position: absolute;
            top: 0.5rem;
            right: 1rem;
            font-size: 2rem; /* Larger close button */
            cursor: pointer;
            color: var(--accent);
            z-index: 1001; /* Ensure it's above other elements */
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6); /* Darker overlay */
            z-index: 999;
            display: none;
        }

        /* Slideshow specific styles */
        .slideshow-container {
            position: relative;
            max-width: 100%;
            margin-bottom: 1rem;
            text-align: center;
            overflow: hidden; /* Hide overflowing parts of images during transition */
        }
        .slideshow-image {
            width: 100%;
            max-height: 300px; /* Smaller image height in popup */
            object-fit: contain; /* Ensure the whole image is visible */
            border-radius: 6px;
            display: none; /* Hidden by default */
        }
        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 12px 18px; /* Adjusted padding */
            margin-top: -30px; /* Adjusted margin */
            color: white;
            font-weight: bold;
            font-size: 22px; /* Larger arrows */
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
            background-color: rgba(0,0,0,0.5); /* Semi-transparent background */
            z-index: 99; /* Ensure arrows are above images */
        }
        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }
        .prev:hover, .next:hover {
            background-color: rgba(0,0,0,0.8);
        }
        .thumbnail-container {
            text-align: center;
            padding: 10px 0;
            white-space: nowrap;
            overflow-x: auto; /* Enable horizontal scrolling for thumbnails */
            margin-bottom: 1rem;
        }
        .thumbnail {
            width: 60px; /* Smaller thumbnails */
            height: 40px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            opacity: 0.6;
            margin: 0 5px; /* Spacing between thumbnails */
            border: 2px solid transparent;
            transition: all 0.3s ease;
            display: inline-block; /* Display thumbnails in a row */
        }
        .thumbnail:hover, .thumbnail.active {
            opacity: 1;
            border: 2px solid var(--accent);
        }
        .popup-details {
            text-align: left; /* Align text within popup to the left */
            width: 100%; /* Take full width of the popup */
            padding: 0 1rem; /* Add some horizontal padding */
        }
        .popup-details strong {
            color: var(--accent); /* Highlight strong text */
        }

        /* Buy links in popup */
        .popup .buy-links {
            margin-top: 1.5rem; /* More space above buy links */
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            width: 100%;
            max-width: 300px;
        }
        .popup .buy-links a {
            background-color: var(--accent);
            color: white;
            text-decoration: none;
            padding: 0.75rem;
            border-radius: 5px;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 4px 8px rgba(127, 0, 49, 0.5);
            text-align: center;
            user-select: none;
            transition: background-color 0.3s;
        }
        .popup .buy-links a:hover { background-color: var(--hover); }

        @media (min-width: 768px) {
            .prize-row { flex-direction: row; flex-wrap: wrap; justify-content: space-between; }
            .prize { flex: 1 1 30%; }
            .buy-links { flex-direction: row; justify-content: center; }
            .buy-links a { width: auto; }
            .popup { max-width: 700px; } /* Wider popup on larger screens */
        }
        @media (max-width: 400px) {
            h1 { font-size: 1.4rem; }
            nav a { font-size: 1rem; padding: 0.4rem 0.8rem; }
            .buy-links a { font-size: 0.9rem; padding: 0.6rem; }
            .popup { padding: 1rem; } /* Less padding on small screens */
            .popup .close { font-size: 1.7rem; }
            .slideshow-image { max-height: 200px; } /* Even smaller on mobile */
            .prev, .next { font-size: 18px; padding: 8px 12px; margin-top: -20px; }
            .thumbnail { width: 45px; height: 30px; margin: 0 3px; }
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="https://raw.githubusercontent.com/BinyanShalem/Support-Yeshivat-Torat-Yosef.github.io/refs/heads/main/assets/logo.png" alt="Yeshivat Torat Yosef Logo" class="logo" />
    </div>
    <nav>
        <a href="index.html">Home</a>
        <a href="prizes.html" class="active">Prizes</a>
        <a href="why.html">Why Buy</a>
    </nav>
    <div class="container">
        <h1>Raffle Prizes</h1>
        <p class="intro">One winner. Their choice of prize. One ticket could change everything. $126 per entry.</p>
        <div class="prize-row">
            <div class="prize">
                <img src="https://media.rolex.com/image/upload/q_auto:eco/f_auto/t_v7/c_limit,w_1920/v1/catalogue/2025/upright-c/m126300-0002" alt="Rolex Watch" />
                <h2>Rolex Watch</h2>
                <p>Datejust 41, blue dial, Jubilee bracelet. Retail value over $9,000.</p>
                <button class="view-button" onclick="openPopup('rolex')">View Prize</button>
            </div>
            <div class="prize">
                <img src="https://res.cloudinary.com/peloton-cycle/image/fetch/dpr_1.5,f_auto,q_auto:good,w_1024/https://images.ctfassets.net/7vk8puwnesgc/4ghvqYMJrS833IKvNsulDr/bea86ceede17035cbe7bcb72debd68cd/BIKE_PLUS_ULT_01.png" alt="Peloton Bike" />
                <h2>Peloton + Home Gym</h2>
                <p>Choice of Peloton Bike+, Tread, or Row, each with weights, mats & more.</p>
                <button class="view-button" onclick="openPopup('peloton')">View Prize</button>
            </div>
            <div class="prize">
                <img src="https://cdn-icons-png.flaticon.com/512/2910/2910761.png" alt="$10,000 Cash" />
                <h2>$10,000 Cash</h2>
                <p>Get a $10,000 check. No strings. No taxes withheld. Just pure winnings.</p>
                <button class="view-button" onclick="openPopup('cash')">View Prize</button>
            </div>
            <div class="prize">
                <img src="https://cdn-icons-png.flaticon.com/512/197/197572.png" alt="Trip to Israel" />
                <h2>Trip to Israel</h2>
                <p>Roundtrip airfare, 10-night hotel stay, and a $1,000 prepaid card for spending.</p>
                <button class="view-button" onclick="openPopup('israel')">View Prize</button>
            </div>
        </div>
        <div class="buy-links">
            <a href="https://venmo.com" target="_blank" rel="noopener">Buy Ticket (Venmo)</a>
            <a href="https://stripe.com" target="_blank" rel="noopener">Buy Ticket (Stripe)</a>
        </div>
    </div>

    <div class="overlay" id="overlay" onclick="closePopup()"></div>
    <div class="popup" id="popup">
        <span class="close" onclick="closePopup()">&times;</span>
        <div id="popup-content">
            </div>
    </div>

    <script>
        let slideIndex = 0;
        let slideInterval;
        const prizesData = {
            rolex: {
                images: [
                    'https://media.rolex.com/image/upload/q_auto:eco/f_auto/t_v7/c_limit,w_1920/v1/catalogue/2025/upright-c/m126300-0002',
                    'https://images.watchfinder.co.uk/images/catalog/Rolex-Datejust-41mm-126300-249557-01-web-listing-249557-61113.webp',
                    'https://chronospride.com/cdn/shop/files/Datejust41_126300_BlueDial_Jubilee_1_1000x.png?v=1690940026'
                ],
                details: `
                    <strong>Rolex Datejust 41</strong><br><br>
                    Reference: <strong>126300</strong><br>
                    Case: <strong>Oystersteel</strong><br>
                    Bezel: <strong>Smooth</strong><br>
                    Dial: <strong>Bright Blue</strong><br>
                    Bracelet: <strong>Jubilee</strong><br>
                    Movement: <strong>Automatic</strong><br>
                    Water Resistance: <strong>100m</strong><br>
                    Retail: <strong>$9,000+</strong>
                `
            },
            peloton: {
                images: [
                    'https://res.cloudinary.com/peloton-cycle/image/fetch/dpr_1.5,f_auto,q_auto:good,w_1024/https://images.ctfassets.net/7vk8puwnesgc/4ghvqYMJrS833IKvNsulDr/bea86ceede17035cbe7bcb72debd68cd/BIKE_PLUS_ULT_01.png',
                    'https://res.cloudinary.com/peloton-cycle/image/fetch/dpr_1.5,f_auto,q_auto:good,w_1024/https://images.ctfassets.net/7vk8puwnesgc/4mE096v7D9G9m2Hl1d0i5r/ee2f71694f50624e525a74e5033c448d/PELOTON_TREAD_ULT_01.png',
                    'https://res.cloudinary.com/peloton-cycle/image/fetch/dpr_1.5,f_auto,q_auto:good,w_1024/https://images.ctfassets.net/7vk8puwnesgc/6tY4f2N0D94z0o2j3o1l7N/7d4e3e3b3a6d7f0e3b2e3c0d0c3e3f0e/PELOTON_ROW_ULT_01.png'
                ],
                details: `
                    <strong>Choice of Peloton Package:</strong><br><br>
                    <strong>Bike+ Ultimate Package:</strong> Peloton Bike+, Shoes, Dumbbells, Mats, Camelbak, Warranty<br><br>
                    <strong>Tread Starter Package:</strong> Tread, Dumbbells, Mats, Camelbak, Warranty<br><br>
                    <strong>Row Starter Package:</strong> Row, Dumbbells, Mats, Camelbak, Warranty
                `
            },
            cash: {
                images: [
                    'https://cdn-icons-png.flaticon.com/512/2910/2910761.png',
                    'https://static.vecteezy.com/system/resources/previews/007/352/248/original/money-bag-with-dollar-sign-icon-style-free-vector.jpg'
                ],
                details: `
                    <strong>$10,000 in Cash</strong><br><br>
                    You’ll receive a check for $10,000 made out directly to you. Spend it how you like — no strings attached.
                `
            },
            israel: {
                images: [
                    'https://cdn-icons-png.flaticon.com/512/197/197572.png',
                    'https://www.tripsavvy.com/thmb/B0XjL2Xn_g5f3_X_0W-8a_b6o_k=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/jerusalem-old-city-at-sunset-1033280068-d06efd0b678c430a911e3b5e40e69888.jpg',
                    'https://lp-cms-production.s3.amazonaws.com/image_assets/assets/000/039/953/full_width/e88383e5898d9d40b84c85635f11e0371a396263.jpg'
                ],
                details: `
                    <strong>10-Night Israel Experience</strong><br><br>
                    Includes roundtrip airfare from the US, 10-night hotel accommodations, and $1,000 prepaid card to spend during your trip.
                `
            }
        };

        function openPopup(prizeKey) {
            const prize = prizesData[prizeKey];
            if (!prize) return;

            let slideshowHTML = `
                <div class="slideshow-container">
            `;
            prize.images.forEach((imgSrc, index) => {
                slideshowHTML += `<img class="slideshow-image fade" src="${imgSrc}" alt="Prize Image ${index + 1}">`;
            });
            slideshowHTML += `
                    <a class="prev" onclick="plusSlides(-1, '${prizeKey}')">&#10094;</a>
                    <a class="next" onclick="plusSlides(1, '${prizeKey}')">&#10095;</a>
                </div>
                <div class="thumbnail-container">
            `;
            prize.images.forEach((imgSrc, index) => {
                slideshowHTML += `<img class="thumbnail" src="${imgSrc}" onclick="currentSlide(${index + 1}, '${prizeKey}')" alt="Thumbnail ${index + 1}">`;
            });
            slideshowHTML += `
                </div>
                <div class="popup-details">${prize.details}</div>
                <div class="buy-links">
                    <a href="https://venmo.com" target="_blank" rel="noopener">Buy Ticket (Venmo)</a>
                    <a href="https://stripe.com" target="_blank" rel="noopener">Buy Ticket (Stripe)</a>
                </div>
            `;

            document.getElementById('popup-content').innerHTML = slideshowHTML;
            document.getElementById('popup').style.display = 'flex'; // Use flex to center content
            document.getElementById('overlay').style.display = 'block';

            // Initialize slideshow
            slideIndex = 0; // Reset slide index for each popup
            showSlides(1, prizeKey); // Show the first slide
            startAutoSlide(prizeKey);
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
            clearInterval(slideInterval); // Stop auto-sliding when popup closes
        }

        function plusSlides(n, prizeKey) {
            showSlides(slideIndex += n, prizeKey);
            clearInterval(slideInterval); // Stop auto-sliding on manual navigation
            startAutoSlide(prizeKey); // Restart auto-sliding
        }

        function currentSlide(n, prizeKey) {
            showSlides(slideIndex = n, prizeKey);
            clearInterval(slideInterval); // Stop auto-sliding on manual navigation
            startAutoSlide(prizeKey); // Restart auto-sliding
        }

        function showSlides(n, prizeKey) {
            const prize = prizesData[prizeKey];
            if (!prize) return;

            let i;
            let slides = document.querySelectorAll('#popup-content .slideshow-image');
            let thumbnails = document.querySelectorAll('#popup-content .thumbnail');

            if (n > slides.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = slides.length }

            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < thumbnails.length; i++) {
                thumbnails[i].className = thumbnails[i].className.replace(" active", "");
            }
            if (slides[slideIndex - 1]) {
                slides[slideIndex - 1].style.display = "block";
            }
            if (thumbnails[slideIndex - 1]) {
                thumbnails[slideIndex - 1].className += " active";
            }
        }

        function startAutoSlide(prizeKey) {
            clearInterval(slideInterval); // Clear any existing interval
            slideInterval = setInterval(() => {
                showSlides(slideIndex += 1, prizeKey);
            }, 3000); // Change image every 3 seconds
        }
    </script>
</body>
</html>
